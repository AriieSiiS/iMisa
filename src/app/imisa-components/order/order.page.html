<ion-header>
  <ion-toolbar color="dark" class="ion-color ion-color-dark md hydrated">
    <ion-buttons slot="secondary">
      <ion-button fill="solid" routerLink="/home" routerDirection="root">
        <ion-icon slot="start" color="primary" name="home"></ion-icon> Misa
        &nbsp;&nbsp;
      </ion-button>
    </ion-buttons>
    <ion-title>Bestellung</ion-title>
    <ion-buttons
      slot="primary"
      *ngIf="!IsHistoicalOrder"
      (click)="ShowEditButtons()"
    >
      <ion-button fill="solid" color="primary">
        <ion-icon slot="start" name="create"></ion-icon> Edit &nbsp;
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list lines="full" *ngIf="arrOrder.length > 0">
    <ion-item-sliding *ngFor="let item of arrOrder;">
      <ion-item>
        <ion-icon
          *ngIf="canShowEdit"
          slot="start"
          color="danger"
          (click)="deleteOrder(item)"
          name="remove-circle"
        ></ion-icon>
        <ion-label (click)="EditOrder(item)" style="cursor: pointer">
          {{item.productDescription}}
        </ion-label>

        <ion-input
          *ngIf="canShowEdit && !IsHistoicalOrder"
          type="number"
          min="1"
          [(ngModel)]="item.amount"
          (ionChange)="onAmountChange(item)"
          style="width: 60px; margin-left: 16px"
          inputmode="numeric"
        >
        </ion-input>

        <ion-note slot="end" *ngIf="!canShowEdit || IsHistoicalOrder"
          >{{item.amount}}</ion-note
        >

        <ion-icon
          color="primary"
          name="chevron-forward"
          (click)="EditOrder(item)"
        ></ion-icon>
      </ion-item>
      <ion-item-options side="end" *ngIf="!IsHistoicalOrder">
        <button
          fill="solid"
          size="large"
          color="danger"
          (click)="deleteOrder(item)"
          title="Delete item"
        >
          <ion-icon
            size="large"
            name="trash"
            color="danger"
            slot="start"
          ></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
  <app-camera-scanner></app-camera-scanner>
</ion-content>
